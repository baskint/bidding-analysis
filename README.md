# Bidding Analysis System

AI-powered digital advertising bid optimization platform.

## Features
- Real-time bid processing
- ML-based price prediction
- Fraud detection
- Campaign analytics

## Setup
1. Copy `.env.example` to `.env` and configure
2. Run `make proto` to generate protobuf files
3. Run `make migrate-up` to setup database
4. Run `make run` to start server

## Development
- `make build` - Build application
- `make test` - Run tests
- `make proto` - Generate protobuf files

## Background - Business case

Bidding analysis is the process of continuously monitoring and evaluating campaign performance to determine if the Demand-Side Platform (DSP) is achieving the advertiser's goals at the optimal cost. It focuses on the key financial and performance metrics across all stages of the ad funnel.

#### Key Analysis Metrics

Analysis requires tracking metrics that move beyond simple impressions to focus on efficiency and profitability:

| Metric                     | Formula                                                     | Why it's Critical for Bidding Analysis                                                                                                                           |
|----------------------------|-------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CTR (Click-Through Rate)   | $\text{Clicks} / \text{Impressions}$                        | Measures relevance and engagement. A low CTR despite a high number of impressions suggests the ad creative or targeting is poor, leading to wasted bids.         |
| CPA (Cost Per Acquisition) | $\text{Total Cost} / \text{Total Conversions}$              | The core financial efficiency metric. Analysis tracks if the average CPA is consistently hitting the Target CPA goal.                                            |
| ROAS (Return on Ad Spend)  | $(\text{Revenue Generated} / \text{Ad Spend}) \times 100\%$ | The ultimate measure of profitability. Analysis shows how many dollars of revenue are generated for every dollar spent.                                          |
| CVR (Conversion Rate)      | $\text{Conversions} / \text{Clicks}$                        | Measures the effectiveness of the landing page and the quality of the traffic generated by the bid. Low CVR suggests the DSP is winning cheap, low-value clicks. |


#### The Analysis Process

DSPs and advertisers analyze data by segments (e.g., location, device, time of day) to identify where the algorithm is overspending or underspending:

Anomaly Detection: Look for sudden, unusual spikes or drops in CPC, CPA, or CTR.

Bid Adjustment: If a segment (e.g., mobile users in New York) has an excellent CVR, the DSP algorithm will automatically increase the bid for that segment to capture more volume.

Exclusion/Optimization: If a segment (e.g., desktop users at night) has a terrible CVR, the DSP will decrease the bid, or the advertiser may exclude that placement/segment entirely.

#### ðŸš« Fraud Detection: Ensuring Legitimacy

Ad fraud is the practice of illegitimately manipulating advertising metrics (impressions, clicks, conversions) to generate revenue for fraudsters, costing the industry billions annually. Fraud Detection is the active process of identifying and blocking this Invalid Traffic (IVT).

#### Common Types of Ad Fraud

Fraudsters employ highly sophisticated techniques, often categorized as follows:

1. Bot Traffic (Non-Human Traffic): The most common type. Sophisticated bots (botnets) are programmed to mimic human behaviorâ€”visiting pages, scrolling, and clickingâ€”to generate fake impressions and clicks.

2. Domain Spoofing: Fraudsters disguise a low-quality or fake website as a premium, reputable one (e.g., passing off a generic blog as a major news site) to trick DSPs into bidding high for cheap inventory.

3. Impression Fraud:
Ad Stacking: Layering multiple ads on top of each other in a single ad slot. The user only sees the top ad, but an impression is counted and charged for all layered ads.

Pixel Stuffing: Placing an ad within a tiny, 1x1 pixel iframe, making it invisible to the user but still technically "served" and counted as an impression.

4. Click Fraud: Using bots or human click farms to repeatedly click on ads to quickly deplete an advertiser's budget or inflate click metrics.

#### Detection Methods

Detection is critical and relies heavily on technology and pattern recognition:

IP and Device Filtering: Blocking traffic from known data centers, VPNs, proxies, and IP addresses historically associated with fraudulent activity.

Behavioral Analysis: Using machine learning to identify non-human patterns:

Impossible Speed: Clicks and page interactions happening too quickly or too consistently to be human.

Anomalous Geolocation: Traffic that appears to be from a premium region but is coming through a low-quality data center IP.

Uniformity: Users with identical device characteristics, screen sizes, or browser versions arriving at the site.

Verification Standards: Implementing and checking compliance with industry standards like ads.txt (a file on a publisher's server that lists authorized ad sellers) to combat Domain Spoofing.
